<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="../../img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../../../css/style-general.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sesión 25</title>
  <!-- Formatear code. Agrega la hoja de estilo para el tema oscuro (por ejemplo, Dracula)-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/dracula.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', (event) => { hljs.highlightAll(); })</script>
</head>

<body>
  <nav class="nav heartbeat">
    <input type="checkbox" id="toggle-menu">
    <label for="toggle-menu" class="icono-hamburguesa"><span></span></label>  
    <ul>
      <li>Sesión 10</li>
      <li><a href="../sesion10/index.html#and-or">And/Ord</a> </li>
      <li><a href="../sesion10/index.html#switch">Switch</a> </li>
      <li><a href="../sesion10/index.html#ciclo-for">For</a> </li>
      <li><a href="../sesion10/index.html#for-of-in">For of/in</a> </li>
      <li><a href="../sesion10/index.html#while">While</a> </li>
      <li>Sesión 11</li>
      <li><a href="../sesion11/index.html#while-ejer-multiplos">While Ejer</a> </li>
      <li><a href="../sesion11/index.html#functions">Functions</a> </li>
      <li><a href="../sesion11/index.html#function-anonima">Function Anon</a> </li>
      <li><a href="../sesion11/index.html#function-arrow">Function Arrow</a> </li>
      <li><a href="../sesion11/index.html#arrays-ejer">Arrays</a> </li>
      <li><a href="../sesion11/index.html#for">For</a> </li>
      <li><a href="../sesion11/index.html#foreach">Foreach</a> </li>
      <li><a href="../sesion11/index.html#filter">Filter</a> </li>
      <li>Sesión 12</li>
      <li><a href="../sesion12/index.html#filter-ejer">Filter Ejer</a> </li>
      <li><a href="../sesion12/index.html#promise">Promise</a> </li>
      <li><a href="../sesion12/index.html#async-await">Async/Await</a> </li>
      <li>Sesión 13</li>
      <li><a href="../sesion13/index.html#promise-ejer">Promise Ejercicio</a> </li>
      <li><a href="../sesion13/index.html#import-export">Import / Export</a> </li>
      <li><a href="../sesion13/index.html#mod1-ppo">POO</a> </li>
      <li>Sesión 14</li>
      <li><a href="../sesion14/index.html#prototipos">Prototipos</a> </li>
      <li>Sesión 15</li>
      <li><a href="../sesion14/index.html#herencia">Herencia</a> </li>
      <li><a href="../sesion15/index.html#herencia-ejer">Herencia Ejercicios</a> </li>
      <li><a href="../sesion15/index.html#poliformismo">Poliformismo</a> </li>
      <li>Sesión 16</li>
      <li><a href="../sesion16/index.html#arrays-metodos">Array Métodos</a> </li>
      <li><a href="../sesion16/index.html#arrays-fill">Array / fill() </a></li>
      <li><a href="../sesion16/index.html#arrays-foreach">Array / forEach()</a> </li>
      <li><a href="../sesion16/index.html#arrays-filter">Array / filter()</a> </li>
      <li><a href="../sesion16/index.html#arrays-find">Array / find()</a> </li>
      <li><a href="../sesion16/index.html#arrays-map">Array / map()</a> </li>
      <li><a href="../sesion16/index.html#arrays-sort">Array / sort()</a> </li>
      <li><a href="../sesion16/index.html#arrays-tosorted">Array / toSorted()</a> </li>
      <li><a href="../sesion16/index.html#tarea-comparador">Tarea comparador</a> </li>
      <li>Sesión 17</li>
      <li><a href="../sesion17/index.html#arrays-some">Array / some()</a> </li>
      <li><a href="../sesion17/index.html#arrays-filter-include">Array / filter() + include()</a> </li>
      <li><a href="../sesion17/index.html#arrays-every">Array / every()</a> </li>
      <li><a href="../sesion17/index.html#arrays-concat">Array / concat()</a> </li>
      <li><a href="../sesion17/index.html#arrays-include">Array / include()</a> </li>
      <li><a href="../sesion17/index.html#arrays-join">Array / join()</a> </li>
      <li><a href="../sesion17/index.html#arrays-reduce">Array / reduce()</a> </li>
      <li><a href="../sesion17/index.html#arrays-index-of">Array / indexOf()</a> </li>
      <li><a href="../sesion17/index.html#arrays-find-index">Array / findIndex()</a> </li>
      <li><a href="../sesion17/index.html#arrays-shift">Array / shift()</a> </li>
      <li><a href="../sesion17/index.html#arrays-unshift">Array / unshift()</a> </li>
      <li><a href="../sesion17/index.html#arrays-reverse">Array / reverse()</a> </li>
      <li><a href="../sesion17/index.html#arrays-toReverse">Array / toReverse()</a> </li>
      <li><a href="../sesion17/index.html#arrays-splice">Array / splice()</a> </li>
      <li>Sesión 18</li>
      <li><a href="../sesion18/index.html#arrays-flat">Array / flat()</a> </li>
      <li><a href="../sesion18/index.html#arrays-isArray">Array / isArray()</a> </li>
      <li><a href="../sesion18/index.html#arrays-from">Array / from()</a> </li>
      <li><a href="../sesion18/index.html#rest-operador">Operador Rest</a> </li>
      <li><a href="../sesion18/index.html#spread-operador">Operador Espread</a> </li>
      <li>Sesión 19</li>
      <li><a href="../sesion18/index.html#pilas">Pilas</a> </li>
      <li><a href="../sesion19/index.html#pilas-ejer">Pilas Ejercicios</a> </li>
      <li><a href="../sesion19/index.html#colas">Colas</a> </li>
      <li><a href="../sesion19/index.html#listas-enlazadas">Listas enlazadas</a> </li>
      <li><a href="../sesion19/index.html#tarea-lista-enlazada">Tarea listas enlazadas</a> </li>
      <li>Sesión 20</li>
      <li><a href="../sesion20/index.html#lista-enlazada-ejer">Lista enlazada ejercicios</a></li>
      <li><a href="../sesion20/index.html#arbol-binario">Árbol binario</a></li>
      <li>Sesión 21</li>
      <li><a href="../sesion21/index.html#arboles-ejercicios">Árbol binario ejercicios</a></li>
      <li><a href="../sesion21/index.html#grafos">Grafos</a></li>
      <li><a href="../sesion21/index.html#grafos-ejer">Grafos ejercicios</a></li>
      <li><a href="../sesion21/index.html#grafos-bfs">Grafos / BFS</a></li>
      <li><a href="../sesion21/index.html#grafos-dfs">Grafos / DFS</a></li>
      <li><a href="../sesion21/index.html#algoritmo-busqueda-lineal">Algoritmos / búsqueda lineal</a></li>
      <li>Sesión 22</li>
      <li><a href="../sesion22/index.html#algoritmo-busqueda-lineal">Algoritmos / Búsqueda binaria</a></li>
      <li><a href="../sesion22/index.html#algoritmo-quicksort">Algoritmos / Quicksort</a></li>
      <li><a href="../sesion22/index.html#algoritmo-mergesort">Algoritmos / MergeSort</a></li>
      <li>Sesión 23</li>
      <li><a href="../sesion23/index.html#algoritmo-bubble-sort">Algoritmos / Bubble Sort</a></li>
      <li><a href="../sesion23/index.html#algoritmo-select-sort">Algoritmos / Select Sort</a></li>
      <li><a href="../sesion23/index.html#algoritmo-insertion-sort">Algoritmos / Insertion Sort</a></li>
      <li>Sesión 24</li>
      <li><a href="../sesion24/index.html#algoritmo-radix-sort">Algoritmos / Radix Sort</a></li>
      <li><a href="../sesion24/index.html#json-web-token">Json Web Token - Parte 1</a></li>
      <li>Sesión 25</li>
      <li><a href="../sesion25/index.html#json-web-token-dos">Json Web Token - Parte 2</a></li>
      <li><a href="../sesion25/index.html#crud-express-mongodb-uno">CRUD / Express y MongoDB - Parte 1</a></li>
      <li>Sesión 26</li>
      <li><a href="../sesion26/index.html#crud-express-mongodb-dos">CRUD / Express y MongoDB - Parte 2</a></li>
      <li>Sesión 27</li>
      <li><a href="../sesion27/index.html#crud-express-mongodb-tres">CRUD / Express y MongoDB - Parte 3</a></li>
      <li>Sesión 28</li>
      <li><a href="../sesion28/index.html#crud-express-mysql-uno">CRUD / Express y MySql - Parte 1</a></li>
      <li>Sesión 29</li>
      <li><a href="../sesion29/index.html#crud-express-mysql-dos">CRUD / Express y MySql - Parte 2</a></li>
      <li>Sesión 30</li>
      <li><a href="../sesion30/index.html#react-uno">React - Parte 1</a></li>
      <li>Sesión 31</li>
      <li><a href="../sesion31/index.html#react-dos">React - Parte 2</a></li>
      <li><a href="../sesion31/index.html#react-vite">React con Vite</a></li>
      <li><a href="../sesion31/index.html#react-ejer-card-one">React - Ejercicio Cards - Parte 1</a></li>
      <li>Sesión 32</li>
      <li><a href="../sesion32/index.html#react-ejer-card-dos">React - Ejercicio Cards - Parte 2</a></li>
      <li><a href="../sesion32/index.html#react-actividad">React - Actividad</a></li>
      <li>Sesión 33</li>
      <li><a href="../sesion33/index.html#react-hook">React - Hook</a></li>
      <li><a href="../sesion33/index.html#react-hook-use-state">React - Hook {useState}</a></li>
      <li><a href="../sesion33/index.html#react-hook-use-effect">React - Hook {useEffect}</a></li>
    </ul>
  </nav>
  <h1>SESIÓN 25</h1>
  <small class="fecha">15.04.2024 S25-M2</small>

  <article id="json-web-token-dos">
    <h2>Json Web Token - Parte 2</h2>
    <img src="jwt-icon.png" alt="JsonWebTokenIcono">

    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">terminal</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

// terminar, ver sesión 25

      </code>
    </pre>

  </article>

  <article id="crud-express-mongodb-uno">
    <h2>CRUD / Express y MongoDB - Parte 1</h2>
    <h3>MongoDB logueo y configuración con Compass</h3>
    <p>Para este proyecto se trabajara con una base de datos no relacional, <b>MongoDb</b> y para la integración se usará <b>Express</b></p>
    <p>Lo primero sera la creación de la cuenta de <a href="https://www.mongodb.com/es">MongoDb desde su página</a></p>
    <p>Luego de crearse la cuenta, crea tu <b>usuario</b> y <b>contraseña</b>: </p>
    <img src="mongo-access.png" alt="">
    <img src="mongo-access-dos.png" alt="">
    <img src="mongo-access-tres.png" alt="">
    <p>Luego de crearse un usuario, verifica que el acceso a la red no tenga restricción alguna, la mejor forma para evitar problemas es la siguiente: </p>
    <img src="mongo-access-red.png" alt="">
    <img src="mongo-access-red-dos.png" alt="">
    <p>Ahora genera una nueva conexión usando <b>Compass</b>.</p>
    <img src="mongo-conect.PNG" alt="">
    <img src="mongo-conect-dos.PNG" alt="">
    <img src="mongo-conect-tres.PNG" alt="">
    
    <p>Ahora para finalizar <b>abre Compass</b> y crea la nueva conexión, pegando el código que acabas de copiar </p>
    <img src="postam.png" alt="">
    <img src="postam-dos.png" alt="">
    <p>Para finalizar con esta parte crea una nueva base de datos</p>
    

    <h3>Creación de proyecto e integración con Express</h3>
    <p>Primero vamos a estructurar nuestro proyecto, crea las siguientes carpetas:</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">estructura de carpetas</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

// Raíz Proyecto
Proyecto
        backend-mongo

      </code>
    </pre> 
    <p>Ahora inicializamos nuestro proyecto backend node.js con express, y algunas otras dependencias en el directorio <b>backend-mongo</b>:</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">terminal</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

npm i -y // Inicializamos proyecto node.js con parámetros por default
npm i express
npm i mongoose dotenv cors
npm i -D nodemon // Trae los datos del servidor y los actualiza en tiempo real 
      </code>
    </pre> 
    <p>Añadimos al proyecto las siguientes carpetas y archivos:</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">terminal</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

→ <b style="color: #ae32cd">config</b> // New
→ <b style="color: #ae32cd">controllers</b> // New
→ <b style="color: #ae32cd">models</b> // New
→ node_modules
→ <b style="color: #ae32cd">routes</b> // New
↓ <b style="color: #ae32cd">src</b> // New
    <b style="color: #cdb632c0">index.js</b> // New
 <b style="color: #cdb632c0">.env</b> // New
 package-lock.json
 package.json

      </code>
    </pre> 
    
    <p>Por el momento nuestro <b>index.js</b> presenta la siguiente configuración:</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">src/index.js</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

// Aquí iniciaremos express
const express = require('express');

const app = express();
const port = 5000;

app.listen(port, () => console.log('Nuestro servidor se encuentra conectado 😎 http://localhost:', port));

app.get('/', (req, res) =>{
  res.send('Bienvenido, nuestro servidor esta configurado');
});

      </code>
    </pre> 

    <p>A nuestro <b>package.json</b> se lo ha modificado para que inicie nuestra app desde <i>src/index.js</i></p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">package.json</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

{
  "name": "backend-mongo",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "nodemon src/index.js" // Modificado
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "mongoose": "^8.3.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.0"
  }
}

      </code>
    </pre> 
    
    <p>Por ahora en nuestras variables de entorno tenemos la uri de conexión con MongoDB</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">.env</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-sql">

MONGO_URL = mongodb+srv://4USER:4MIn4C_.ON@cluster0.4bxgl6w.mongodb.net/<b style="color: #ae32cd; background-color: #00000070; padding: 2px;">apiclientes</b>
      
      </code>
    </pre> 
    <div class="nota">
      <span class="tag tag-nota">NOTA</span>
      <b>'apiclientes'</b> es el nombre de la base de datos a la cual nos vamos a conectar, la cual creaste por <b>Compass</b>
    </div>
    
    <p>Finalmente para terminar con esta parte y ejecutar la app usa el siguiente código:</p>
    <pre class="dark">
      <div class="pre-head">
        <span class="tag js">Ejecutar app</span>
        <button class="copy-button">📋 Copiar código</button>
      </div>
      <code class="language-js">

npm run start

      </code>
    </pre> 


  </article>


  <footer>
    Bryan Hernández | Telento Tech DWFSV2-42 | 2024
  </footer>
  <script src="../../../js/js-general.js"></script>
  <script src="sesion25.js" type="module"></script>
</body>

</html>